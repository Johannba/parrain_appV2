{# templates/rewards/form.html #}
{% extends "base_dashboard.html" %}
{% block title %}{% if mode == "create" %}Créer{% else %}Modifier{% endif %} une récompense • ParrainApp{% endblock %}
{% block body_data_page %}recompenses{% endblock %}

{% block content %}
<header class="mb-3">
  <h1 class="h4 section-title mb-1">
    {% if mode == "create" %}Créer{% else %}Modifier{% endif %} une récompense
  </h1>
</header>

<div class="card shadow-sm">
  <form method="post" class="card-body vstack gap-3">
    {% csrf_token %}

    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Nom de la récompense</label>
        {{ form.label }}
      </div>
      <div class="col-md-6">
        <label class="form-label">Catégorie probabilité</label>
        {{ form.bucket }}
      </div>
    </div>

    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Minimum parrainage requis</label>
        {{ form.min_obtention }}
      </div>
      <div class="col-md-6">
        <label class="form-label">Délai</label>
        {{ form.cooldown_months }}
        {{ form.cooldown_days }} {# caché, alimenté en jours depuis cooldown_months #}
      </div>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit">Enregistrer</button>
      <a class="btn btn-outline-secondary" href="{% url 'rewards:list' %}">Annuler</a>
    </div>
  </form>
</div>
{% endblock %}
